\chapter{ Технологический раздел}
\section{ Требования к програмному обеспечению}
Данная программа разрабатывалась на языке Rust с использованием компилятора rustc. Для реализации потоков использовалась стандартная библиотека std::thread. Для создания програмного продукта использовалась cli утилита cargo. Среди инструментов синхронизации между потоками использовались Mutex переменные, для обеспечения защищенного доступа к массивам.

\section{ Листинг кода}

Листинг уровня C части конвейера приведен в листинге \ref{list:levelc}

\begin{lstlisting}[language=Rust, caption={ Реализация уровня C конвейера},
                    label={list:levelc}]
pub fn levelcthread(queuelevelcmutex: Arc<Mutex<&mut VecDeque<i32>>>, 
                    resultmutex: Arc<Mutex<&mut VecDeque<i32>>>,
                    size: usize,
                    logmutex: Arc<Mutex<&mut String>>) {

    let now = Instant::now();

    let mut result = resultmutex.lock().unwrap();
    let mut count = 0;
    while count < size {
        {
            let mut queuelevelc = queuelevelcmutex.lock().unwrap();
            if !( *queuelevelc).isempty() {
                let num = ( *queuelevelc).popback().unwrap();
                if num%3 == 0 {
                    ( *result).pushback(num);
                    insertlog(logmutex.clone(), count, "loaded to result", now.elapsed());
                }

                count+=1;
            }
        }
        thread::sleep(Duration::frommillis(2));
    }
    println!("Thread c is finished");
}

\end{lstlisting}
